---
layout: post
title: "伪匹配"
date: 2014-07-09 17:13
comments: true
categories: 数据挖掘，网页分析， jsoup
---

这里提到的伪匹配的概念是指在网上搜索某些特征次，比如人名公司手机QQ号等内容时，网页反馈的结果：重要关键词在人看来是逻辑没有关联的时候就是伪匹配。

比如说，某XX，公司名，地点很明显的构成一个记录的时候，在人看来是个写在一起的，那么结果就是匹配的。相反，要是搜索词相距很远，那么就是伪匹配。

那么好，人工审核此类内容是否匹配时，是个无聊枯燥的工作内容，那么只好找机器帮忙，思路也很简单，分析样本伪匹配的原因是什么？和网页文档有什么不同？

对目标网页的分析可以发现，搜索词在目标网页中有时是结构化存在的，就是搜索词处在不同的节点中，节点关系为树中的关系，或者是兄弟关系，或者是父子关系。
同时还有非结构化的内容，比如搜索词是在同一个节点中，此时就不存在上述判断关系，只能由另外一种关系来处理。

接着说，当是结构化的关系的时候，从我们人的观点来看，他们应该是兄弟节点，相邻很近，或者用另外一个距离：节点到最近祖先再到另外一个节点的距离。此距离也是很近的。

当时非结构话的关系时，他们是在用一语意范围内，所以字符距离很近。

OK，有了上面的思路，我们所做的就是分析统计目标网页的结构，然后查看具体指标的范围。

首先看如何区分是否结构化，这个可以依靠text的长度来判断（这是分析后发现的）。

```octave
x1=[54,161,70,65,66,3369,101,50,167];
y1=[1,1,1,1,1,1,1,1,1];
x2=[114265,89406,137824,11300,14001,54575,108596,78197,67810,11948,8660,2677,103724,8686];
y2=[0 0 0 0 0 0 0 0 0 0 0 0 0 0];
figure ;
plot(x1,y1,'rx','MarkerSize',10);
hold on;
plot(x2,y2,'bo','MarkerSize',10);
```

数据是分析后得到的。

分布图如下：

代码如下：